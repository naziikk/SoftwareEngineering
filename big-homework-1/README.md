# Finance tracker

Finance tracker - консольное приложение реализующее функционал учета финансов.

Далее все описание будет идти учитывая критерии оценивания

****

### Критерии оценки
**+2 балла за полную реализацию основных требований к функциональности**

Давайте определим основной функционал приложения в формате user stories:

**User Stories**
- добавление нового счета (запрашиваем название счета) -> создаем счет с нулевым балансом в DB
- добавление новой категории (запрашиваем тип категории: доход/расход) -> добавляем новую категорию в DB
- получение всех счетов -> отдаем счета в формате (название счета: id счета)
- пополнение конкретного счета по id -> пользователь вводит сумму -> обновляем данные в DB
- произведение операции (указываем категорию платежа: доход/расход, сумму, название счета, название категории платежа) -> проверяем достаточно ли средств на балансе -> если нет - выдаем ошибку -> иначе фиксируем операцию и добавляем в лог
- получение выгрузки операции в файл -> запрашиваем название выходного файла + формат (JSON/YAML/CSV)

Считаю функционал приложения довольно полным и раскрытым, у пользователя есть возможность полного взаимодействия 
с приложением через консоль, что на мой взгляд довольно удобно.

**Заранее обговорим:** консольное взаимодействие реализовано для нашего с вами удобства. Данные с ввода не парсятся поэтому убедительная просьба вводить данные строго с требуемым форматом, иначе программа может выдать  UB или вовсе упасть.

Не считаю это моей недоработкой, судя по заданию я мог в тупую ввести данные в main и отдать ответ, но я добавил пользователю возможность самостоятельно взаимодействовать с программой. Прошу отнестись с пониманием. 

****

**+ 0.5 балла (max 3 балла по данному критерию) за каждый реализованный (из
предложенных нами или выбранных вами) паттерн.**

Так, давайте перейдем к этой части. Расскажу по порядку про все паттерны, которые я реализовал при выполнении домашнего задания

- Фасад - паттерн фасад реализован в следующем виде: в файле database/migrations/Database.h есть функция ExecuteQuery. Эта функция отвечает за создания записей в бд и не чувствительна абсолютно ко всем запросам.
То есть идея следующая, функция отвечает за создание объектов в единой части кода как и паттерн фасад: в нее нужно просто передать  запрос и вектор параметров которые используются в запросе.


- Шаблонный метод - паттерн реализован в файле exporter/SaveData.h. В этом классе есть абстрактный класс FileExporter для конвертации данных в один из 3 форматов: JSON, CSV, YAML. В классе SaveData реализованы методы для сохранения данных в файл в одном из форматов.
Базовый метод FormatData перегружен в каждом из классов наследников.


- Команда + фабричный метод реализованы в файлах executor/ProcessRequests и factory/CommandFactory. В ProcessRequests есть класс Command, который выполняет команды, созданные в CommandFactory. 
У меня есть меню для пользователя с действиями где циферками можно выбирать что делать -> оборачиваем ответы пользователь в паттерн фабрика для создания запросов и отдаем в паттерну Команда который будет непосредственно через Invoker-а execute-ть разные функции

### Дополнительно

Дабы попробовать скомпенсировать минимальные оплошности и попробовать претендовать на максимальный балл,
я добавил многоуровневое логирование используя библиотеку spdlog, сохрание файлов в различных форматах удобных для пользователя 
и взаимодействие с базой данных (в основе лежит PostgreSQL). Последнее скорее про удобство для самого себя,
мне что ли проще хранить данные в бд и брать их оттуда запросами, да и когда все поля лежат перед глазами, как-то поприятнее что-ли.